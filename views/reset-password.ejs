<%- include("./partials/header.ejs") %>

    <body ng-app="myApp" ng-controller="myCtrl">
        <div class="container">
            <div class="row justify-content-center align-items-center">
                <div class="col-xl-4 col-lg-5 col-md-7 mx-lg-0 align-self-center">
                    <div class="card card-plain">
                        <div class="card-header pb-0 text-start">
                            <h4 class="font-weight-bolder text-dark text-gradient">Set your password</h4>
                            <p class="text-sm mb-0">
                                <%= email %>
                            </p>
                        </div>
                        <div class="card-body">
                            <form role="form" id="resetForm" name="resetForm" novalidate>
                                <div class="mb-3">
                                    <input ng-model="newPassword" id="newPassword" name="newPassword" type="password"
                                        class="form-control form-control-lg validate" placeholder="New Password"
                                        aria-label="Email" autocomplete="off" autofocus="on" onfocus="focused(this)" required>
                                </div>
                                <div class="mb-3">
                                    <input ng-model="confirmPassword" id="confirmPassword" name="confirmPassword"
                                        type="password" class="form-control form-control-lg validate"
                                        placeholder="Confirm Password" aria-label="Email" autocomplete="off" required>
                                </div>
                                <div class="text-center">
                                    <button ng-click="resetPassword()"
                                        ng-disabled="resetForm.newPassword.$invalid || resetForm.confirmPassword.$invalid || newPassword != confirmPassword"
                                        id="btn-resetPassword" type="button"
                                        class="btn btn-lg bg-gradient-primary btn-lg w-100 mt-4 mb-0">Submit</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <footer class="footer py-5">
            <div class="container">
                <div class="row">
                    <div class="col-8 mx-auto text-center mt-1">
                        <small class="mb-0 text-secondary">
                            Copyright
                            <script>
                                document.write(new Date().getFullYear())
                            </script> &copy; All rights reserved
                        </small>
                    </div>
                </div>
            </div>
        </footer>
        <%- include("./partials/footer.ejs") %>